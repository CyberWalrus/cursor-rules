# Git Commit Workflow

## 1. Проверка качества кода

**Извлеки команды качества в порядке приоритета:**

1. **Из `package-ai-docs.md`** (секция `<development_commands>` → "⚡ Обязательные команды качества:")
2. **Из `package.json`** (секция `scripts`: `lint`, `test`, `typecheck`, `build`)
3. **Стандартные:** `yarn lint && yarn test && yarn typecheck`

**Выполни команды последовательно. Если любая упадет — остановись.**

Если всё успешно — проанализируй **незакоммиченные изменения в текущем git-репозитории** (включая staged и unstaged).

---

## 2. Разделение изменений

Раздели изменения на **логически обособленные атомарные части**.

Каждая часть должна отражать **одно конкретное действие**:

- добавление фичи
- исправление бага
- изменение стилей
- документации и т.п.

## 3. Создание коммитов

Для каждой части:

- Создай **отдельный git commit**
- Подбери **тип коммита** из списка:
    - `feat` — новая функциональность или её часть
    - `fix` — исправление бага
    - `style` — правки без изменения логики (отступы, импорты и пр.)
    - `refactor` — рефакторинг без изменения поведения
    - `test` — изменения, связанные с тестами
    - `docs` — документация
    - `chore` — обслуживание, зависимости, сборка

## 4. Формат сообщения коммита

Название коммита строго по шаблону:

```
{task-id}: [{commit-type}] {commit-message}
```

Где:

- `{task-id}` — номер задачи из названия ветки (например, `feature/PB-1234-xyz` → `PB-1234`), если ветки нет — используй `MAIN` (как в предыдущих коммитах)
- `{commit-type}` — тип коммита (см. выше)
- `{commit-message}` — описание на **русском**, с заглавной буквы, в **3-м лице**, начиная с глагола:
  `Добавит`, `Обновит`, `Исправит`, `Удалит`, `Упростит` и т.д.

---

## 5. Выполнение коммитов

Выполни коммиты (один коммит на одну логическую часть), используя `git add -p` или `git add -i`.

### Примеры сообщений:

- `PB-1234: [feat] Добавит модуль отправки email`
- `PB-1234: [fix] Исправит баг при загрузке профиля`
- `PB-1234: [style] Удалит лишние отступы и сортировку импортов`

## ⚠️ Важно

В один коммит — только одна логическая правка.
Если изменений несколько — дроби."
